@{
	ViewData["Title"] = "Search Page";
}
@model PageModel<Nest.ISearchResponse<Property>>

<div class="container">
 <div class="row">
  <div class="col-md-12">
   <form asp-controller="Home" asp-action="Index" method="post">
	<div class="input-group">
	 <input type="text" name="query" placeholder="Search query" class="form-control">
	 <span class="input-group-btn">
	  <input type="submit" name="commit" value="Search" class="btn btn-primary" data-disable-with="Search">
	 </span>
	 <span class="input-group-btn">
	  <button tabindex="-1" data-toggle="dropdown" class="btn btn-default dropdown-toggle" type="button">
	   <span class="caret">Filters</span>
	  </button>
	  <ul role="menu" class="dropdown-menu">
	   <li class="dropdown-item">
		<input type="checkbox" name="byname" class="form-check-inline" checked="checked" /><span class="lbl">Name</span>
	   </li>
	   <li class="dropdown-item">
		<input type="checkbox" name="byFormerName" class="form-check-inline" /><span class="lbl"> FormerName </span>
	   </li>
	   <li class="divider dropdown-item"></li>
	   <li class="dropdown-item">
		<input type="checkbox" name="ByStreetAddress" class="form-check-inline" /><span class="lbl"> StreetAddress </span>
	   </li>
	   <li class="dropdown-item">
		<input type="checkbox" name="ByCity" class="form-check-inline" /><span class="lbl"> City </span>
	   </li>
	   <li class="dropdown-item">
		<input type="checkbox" name="ByMarket" class="form-check-inline" /><span class="lbl"> Market  </span>
	   </li>
	   <li class="dropdown-item">
		<input type="checkbox" name="ByState" class="form-check-inline" /><span class="lbl"> State </span>
	   </li>
	  </ul>
	 </span>
	</div>
   </form>
  </div>
 </div>
 <hr>
</div>

@if (Model.Data.Documents.Any())
{

	<table class="table table-striped table-bordered table-hover">
	 <tr>
	  <td colspan="5">
	   <h3>Search Results</h3>
				@foreach (var property in Model.Data.Documents)
				{
		 <tr>
		  <td>
							@property.propertyID
		  </td>
		  <td>
							@property.Name
		  </td>
		  <td class="text-right">
							@property.StreetAddress
		  </td>
		  <td class="text-right">
							@property.City
		  </td>
		  <td class="text-center">
		   <a asp-controller="Property" asp-action="View" asp-route-id="@property.propertyID" class="btn btn-sm btn-info">Open</a>
		  </td>
		 </tr>
				}
	</table>

	<div>
	 <ul class="pagination">
			@if (Model.ShowPrevious)
			{
		  <li class="page-item">
					@Html.ActionLink("Previous", "Index", "Home", new  {curentPage = Model.CurrentPage-1 },new { @class = "page-link" })
		  </li>
			}

			  <li class="page-item">
				  <p class = "page-link" >@Model.CurrentPage</p>
			  </li>
			@if (Model.ShowNext)
			{
		  <li class="page-item">
					@Html.ActionLink("Next", "Index", "Home", new  {curentPage = Model.CurrentPage+1 },new { @class = "page-link" })
		  </li>
			}
	 </ul>
	</div>

}
else
{
	<h3>No Results</h3>

}


